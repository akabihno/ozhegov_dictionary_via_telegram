import subprocess
import time
while 1:
    text_to_encode = input("Enter the text to morse: ")
    morse = {"a": ".-", "b": "-...", "c": "-.-.", "d": "-..", "e": ".", "f": "..-.",\
         "g": "--.", "h": "....", "i": "..", "j": ".---", "k": "-.-", "l": ".-..",\
         "m": "--", "n": "-.", "o": "---", "p": ".--.", "q": "--.-", "r": ".-.",\
         "s": "...", "t": "-", "u": "..-", "v": "...-",\
         "w": ".--", "x": "-..-", "y": "-.--", "z": "--..", " ": "<",\
             "1": ".----", "2": "..---", "3": "...--",\
             "4": "....-", "5": ".....", "6": "-....",\
             "7": "--...", "8": "---..", "9": "----.",\
             "0": "-----", "A": ".-", "B": "-...", "C": "-.-.", "D": "-..", "E": ".", "F": "..-.",\
         "G": "--.", "H": "....", "I": "..", "J": ".---", "K": "-.-", "L": ".-..",\
         "M": "--", "N": "-.", "O": "---", "P": ".--.", "Q": "--.-", "R": ".-.",\
         "S": "...", "T": "-", "U": "..-", "V": "...-",\
         "W": ".--", "X": "-..-", "Y": "-.--", "Z": "--..", ".": "......", ",": ".-.-.-",\
             ":": "---...", ";": "-.-.-.", "?": "..--..", "!": "--..--"}
    def encrypt():
        return [morse[i]+">" for i in text_to_encode]
    bee = encrypt()
    if bee != ['.>', '-..->', '..>', '->', '<>', '..-.>', '.-.>', '--->', '-->', '<>', '-->', '--->', '.-.>', '...>', '.>']:
        print(bee)
        for elem in bee:
            for part in elem:
                if part == ".":
                    subprocess.call(["beep", "-f 250", "-l 100", "-D 150"])
                if part == "-":
                    subprocess.call(["beep", "-f 250", "-l 400", "-D 150"])
                if part == ">":
                    time.sleep(0.5)
                if part == "<":
                    time.sleep(1)
    print('To exit type "exit from morse"')
    if text_to_encode == "exit from morse":
        break
